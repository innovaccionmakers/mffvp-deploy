[
  {
    "WorkflowName": "Operations.Contribution.Validation",
    "Rules": [
      {
        "RuleName": "FirstContribution_MinimumAmount",
        "ErrorMessage": "El primer aporte debe ser mayor o igual al monto mínimo inicial del portafolio.",
        "Expression": "input.IsFirstContribution == false || input.Amount >= input.PortfolioInitialMinimumAmount",
        "Properties": {
          "errorCode": "ecb1b8b5-7e2d-4784-b9bc-71302079227e"
        }
      },
      {
        "RuleName": "ContributionSourceNotHomologated",
        "ErrorMessage": "El código homologado del Origen no existe",
        "Expression": "input.ContributionSource.Exists",
        "Properties": {
          "errorCode": "c431dbad-410c-4e3d-be80-938b1c703c82"
        }
      },
      {
        "RuleName": "ContributionSourceInactive",
        "ErrorMessage": "El Origen se encuentra inactivo",
        "Expression": "input.ContributionSource.Active",
        "Properties": {
          "errorCode": "3ec4d1a5-eb5a-42e0-b930-2bfba953b7ff"
        }
      },
      {
        "RuleName": "OriginModalityNotHomologated",
        "ErrorMessage": "El código homologado de la Modalidad Origen no existe",
        "Expression": "input.OriginModality.Exists",
        "Properties": {
          "errorCode": "cb3f3075-cf88-4851-a414-7705d387ac8f"
        }
      },
      {
        "RuleName": "OriginModalityInactive",
        "ErrorMessage": "La Modalidad Origen se encuentra inactiva",
        "Expression": "input.OriginModality.Active",
        "Properties": {
          "errorCode": "559c3228-0f69-43ee-9bdd-8efa0fa9373d"
        }
      },
      {
        "RuleName": "CollectionMethodNotHomologated",
        "ErrorMessage": "El código homologado del Método de Recaudo no existe",
        "Expression": "input.CollectionMethod.Exists",
        "Properties": {
          "errorCode": "4da720d3-8f87-4dec-bbf8-fcf89c1dcd9c"
        }
      },
      {
        "RuleName": "CollectionMethodInactive",
        "ErrorMessage": "El Método de Recaudo se encuentra inactivo",
        "Expression": "input.CollectionMethod.Active",
        "Properties": {
          "errorCode": "7345e786-9032-4593-9f15-d007d244513f"
        }
      },
      {
        "RuleName": "PaymentMethodNotHomologated",
        "ErrorMessage": "El código homologado de la forma de pago no existe",
        "Expression": "input.PaymentMethod.Exists",
        "Properties": {
          "errorCode": "05a7c156-bbd6-4139-b467-3fc47ffaca78"
        }
      },
      {
        "RuleName": "PaymentMethodInactive",
        "ErrorMessage": "La forma de pago se encuentra inactiva",
        "Expression": "input.PaymentMethod.Active",
        "Properties": {
          "errorCode": "1c3f389f-ffe2-4d19-808f-472309c595a8"
        }
      },
      {
        "RuleName": "CertificationRequiredButMissing",
        "ErrorMessage": "El campo Aporte Certificado solo es obligatorio cuando el Origen sea Afiliado",
        "Expression": "!input.ContributionSource.RequiresCertification || input.CertifiedContributionProvided",
        "Properties": {
          "errorCode": "eb34f98d-518b-4bbb-b94b-5b866361b506"
        }
      },
      {
        "RuleName": "CertifiedContributionInvalid",
        "ErrorMessage": "AporteCertificado debe ser 'SI' o 'NO'.",
        "Expression": "!input.ContributionSource.RequiresCertification || input.CertifiedContributionValid",
        "Properties": {
          "errorCode": "224a4f64-a032-4d05-82c7-fa8377018d1d"
        }
      },
      {
        "RuleName": "SubtransactionTypeExists",
        "ErrorMessage": "El código homologado del Subtipo no existe.",
        "Expression": "input.SubtypeExists == true",
        "Properties": {
          "errorCode": "f5022b1e-75a9-4400-8138-bc2f6ae4314a"
        }
      },
      {
        "RuleName": "SubtypeCategoryIsContribution",
        "ErrorMessage": "El código homologado del Subtipo no corresponde al Aporte",
        "Expression": "input.CategoryIsContribution == true",
        "Properties": {
          "errorCode": "27aa5c54-6f50-4c25-945e-3ce7420ec2f2"
        }
      },
      {
        "RuleName": "ChannelExists",
        "ErrorMessage": "El código homologado del Canal no existe.",
        "Expression": "input.Channel.Exists == true",
        "Properties": {
          "errorCode": "fe27ea5b-444f-4e12-a63f-1c1618708677"
        }
      }
    ]
  }
]
